<!--
  Generated template for the Chatrooms page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>chatrooms</ion-title>
    	<ion-buttons end>
		  <button class="button" (click)="addChannels()" *ngIf="visibleAddChannels == false">
		    Edit
		  </button>
		</ion-buttons>
		<ion-buttons end>
		  <button class="button" (click)="done()" *ngIf="visibleAddChannels == true">
		    Done
		  </button>
		</ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<form id="add-channel-form" class="list" [hidden]="!visibleAddChannels">
        <input id="channel_text" type="text" [(ngModel)]="newChannel" [ngModelOptions]="{standalone: true}">
        <button id="add_channel_bt" class="button button-stable button-block" (click)="addChannel()">Add</button>  
    </form>
        <ion-list id="chatRooms-list2" class="listv">
          <ion-list-header>
            Channels
          </ion-list-header>
            <ion-item id="chatRooms-list-item(index)" *ngFor="let channel of _ortc.channels" (click)="selectedChannel(channel)" class="channelItem">
                <button class="button remove-channel" [(hidden)]="!visibleAddChannels" (click)="removeChannel(channel)">Remove</button>
                <span class="item-text">{{channel}}</span>
                <span class="unreadcount" *ngIf="_ortc.unread[channel] > 0">{{_ortc.unread[channel]}}</span>
            </ion-item>
        </ion-list>
</ion-content>
